<!DOCTYPE html>
<html lang="en">
<head>
	<title>CSC73010 Part1 dhogan15</title>
 	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<script src="http://code.jquery.com/jquery-1.12.0.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

	<script>
        var url = "http://spike.scu.edu.au/~barry/CSC73010/contacts.html";
        var units = []; // data array from server/data file

        $(document).ready(function() {
            $("#pageData").load(url+"#myData", function (resp, status, xhr) {
                if (status=="error") { // data loading error
                    alert("There was an error loading the data: " + xhr.statusText);
                }
                else if (status=="success") {
                    
                    
                    // var i = 0;
                    // $("#myData tr").each( function () {
                    //     $("#record").html($(this));
                    //     var recdat = [];
                    //     var j = 0;
                    //     $("#record td").each(function () {
                    //         recdat[j++] = $(this).text();
                    //     });
                    //     if (recdat.length > 0) {
                    //         units[i++] = {"code":recdat[0],
                    //                     "name":recdat[1],
                    //                     "assessor":recdat[2]};
                    //     }
                    // });


                    // contactHeaders = $("th",$("#myData")).map(function() {
                    //     return this.innerHTML;
                    // }).get();

                    // contactDetails = $("tr",$("#myData")).map(function() {
                    //     return [$("td",this).map(function() {
                    //         return this.innerHTML;
                    //     }).get()];
                    // }).get();
                    // alert(contactDetails);
                    // document.write(contactDetails);
                }
            });
        });
	</script>

</head>
<body>
    <!-- <div id="record"></div> -->
    <!-- MAIN PAGE -->
	<div data-role="page">
		<div data-role="header">
			<h1>Contact Information for Units</h1>
		</div>
		<div data-role="main" class="ui-content">
            <div id="pageData"></div>
            <a href="#unitList" class="ui-btn">List units</a>
		</div>
		<div data-role="footer">
			<h1>Footer Text</h1>
		</div>
	</div>

    <!-- VIEW UNITS PAGE -->
    <div data-role="page" id="unitList">
      <div data-role="header">
        <h1>Unit List</h1>
      </div>
      <div data-role="main">
          <ul data-role="listview" data-inset="true" id="ulist">
          </ul>
      </div>
    </div>

    <!-- EDIT UNITS PAGE -->
</body>
</html>